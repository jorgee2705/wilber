!function(){"use strict";function e(){}function t(e){return e()}function o(e){e.forEach(t)}function n(t){if(null==t)return e;for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];var r=t.subscribe.apply(t,n);return r.unsubscribe?function(){return r.unsubscribe()}:r}function i(e){var t;return n(e,(function(e){return t=e}))(),t}new Set,new Map;function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}new Set,new Set,"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set([].concat(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"])),"function"==typeof HTMLElement&&HTMLElement;var a=[];function s(t){var o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=new Set;function s(e){if(u=e,((p=t)!=p?u==u:p!==u||p&&"object"==typeof p||"function"==typeof p)&&(t=e,o)){var n,s=!a.length,c=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==o.return||o.return()}finally{if(c)throw a}}}}(i);try{for(c.s();!(n=c.n()).done;){var l=n.value;l[1](),a.push(l,t)}}catch(e){c.e(e)}finally{c.f()}if(s){for(var d=0;d<a.length;d+=2)a[d][0](a[d+1]);a.length=0}}var p,u}return{set:s,update:function(e){s(e(t))},subscribe:function(r){var a=[r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e];return i.add(a),1===i.size&&(o=n(s)||e),r(t),function(){i.delete(a),0===i.size&&o&&(o(),o=null)}}}}function c(t,i,r){var a=!Array.isArray(t),c=a?[t]:t,l=i.length<2;return{subscribe:s(r,(function(t){var r=!1,s=[],d=0,p=e,u=function(){if(!d){p();var o=i(a?s[0]:s,t);l?t(o):p="function"==typeof o?o:e}},_=c.map((function(e,t){return n(e,(function(e){s[t]=e,d&=~(1<<t),r&&u()}),(function(){d|=1<<t}))}));return r=!0,u(),function(){o(_),p(),r=!1}})).subscribe}}function l(e,t,o,n){var r,a,s=!1,l="withOld"in o,d=c(e,((e,o)=>{if(r=o,l&&(a=e),!s){let n=t(e,o);if(!(t.length<2))return n;o(n)}s=!1}),n),p=!Array.isArray(e),u=t=>{p?(s=!0,e.set(t)):t.forEach(((t,o)=>{s=!0,e[o].set(t)})),s=!1};l&&(o=o.withOld);var _=o.length>=(l?3:2),f=null,m=!1;function g(e){var t,n,s,c;if(m)return c=e(i(d)),void r(c);var p=d.subscribe((e=>{m?t?n=!0:t=!0:s=e}));c=e(s),m=!0,r(c),p(),m=!1,n&&(c=i(d)),t&&function(e){if(f&&(f(),f=null),l)var t=o(e,a,u);else t=o(e,u);_?"function"==typeof t&&(f=t):u(t)}(c)}return{subscribe:d.subscribe,set(e){g((()=>e))},update:g}}function d(e,t){if(Array.isArray(t)){let o=t.concat();return l(e,(e=>{for(let t=0;t<o.length;++t)e=e[o[t]];return e}),{withOld(e,t){let n=t;for(let e=0;e<o.length-1;++e)n=n[o[e]];return n[o[o.length-1]]=e,t}})}return l(e,(e=>e[t]),{withOld(e,o){return o[t]=e,o}})}function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){_(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function _(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function f(e){return new Proxy(e,{get(e,t,o){const n=i(e),r=Reflect.get(n,t);return r instanceof Function?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.apply(this===o?n:this,t)}:r},set(e,t,o,n){let i;return e.update((e=>{const n=u({},e);return i=Reflect.set(n,t,o),n})),i},has(e,t){return Reflect.has(i(e),t)},ownKeys(e){return Reflect.ownKeys(i(e))},defineProperty(e,t,o){let n;return e.update((e=>{const i=u({},e);return n=Reflect.defineProperty(i,t,o),i})),n},deleteProperty(e,t){let o;return t in i(e)&&(e.update((e=>{const n=u({},e);return o=Reflect.deleteProperty(n,t),n})),o)},getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(i(e),t)},getPrototypeOf(e){return Reflect.getPrototypeOf(i(e))},setPrototypeOf(e,t){return Reflect.setPrototypeOf(e,t)},isExtensible(e){return Reflect.isExtensible(i(e))},preventExtensions(e){return Reflect.preventExtensions(e)},apply(e,t,o){return Reflect.apply(i(e),t,o)},construct(e,t,o){return Reflect.construct(i(e),t,o)}})}let m;try{m=(window.Cypress?window:window.parent).Rivo}catch(e){console.error(e),m=window.Rivo}const g=s(m),w=f(g),v=d(g,"loy_config"),h=f(v);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function b(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");let o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};var o=document.createElement("script");o.src=e,o.defer=!0,o.onload=function(){t()},document.head.appendChild(o)}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){const e=document.getElementById("rivo-profile-main");e&&e.insertAdjacentHTML("beforeend","<div class='rivo-full-page-overlay'><div class='rivo-full-page-spinner'></div></div>")}const o=()=>{const t=RivoProfileAlpine.store("rivo_orders");if(t?.length){const e=t.filter((e=>new Date(e.created_at)>=new Date(Date.now()-2592e6))).sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)))[0];e&&RivoProfileAlpine.store("rivo_latest_order",e)}if(RivoProfileAlpine.store("rivo_profile_customer",e.customer),window.Rivo.common.customer=e.customer,Object.assign(window.Rivo.account_profile,{visitor_token:window.Rivo.visitor_token,customer_id:e.customer.id,last_updated_at:Date.now()}),localStorage.setItem("rivo_account_profile",JSON.stringify(window.Rivo.account_profile)),RivoProfileAlpine.store("rivo_aw_settings")?.saved_cart_enabled&&window.RivoAPI.saved_cart_items("db").then((e=>{RivoProfileAlpine.store("rivo_saved_cart_items",e.products)})),localStorage.getItem("rivo_account_creation_survey_needed")){const e=(o=localStorage.getItem("rivo_account_creation_survey_needed").split("--"),n=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,i,r,a,s=[],c=!0,l=!1;try{if(r=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;c=!1}else for(;!(c=(n=r.call(o)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(o,n)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?y(e,t):void 0}}(o,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],i=e[1];return localStorage.removeItem("rivo_account_creation_survey_needed"),void(window.location.hash=`rivo-survey--${t}--${i}`)}var o,n};!RivoProfileAlpine.store("rivo_orders")&&e.customer?.orders_count>0?window.RivoAPI.orders("loggedin").then((function(e){RivoProfileAlpine.store("rivo_orders",e.orders),o()})):o(),t&&document.querySelector(".rivo-full-page-overlay")?.remove(),RivoProfileAlpine.store("rivo_aw_settings")?.post_sign_in_javascript&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;const o=new Function(...Object.keys(t),`"use strict";\n    try {\n      ${e}\n    } catch (error) {\n      console.error('Error executing custom JavaScript:', error);\n    }`);try{return o.apply(null,Object.values(t))}catch(e){console.error("Error executing custom JavaScript:",e)}}(RivoProfileAlpine.store("rivo_aw_settings").post_sign_in_javascript,{Alpine:RivoProfileAlpine,store:RivoProfileAlpine.store}),["rivo-order-details","rivo-profile","rivo-favorites"].some((e=>window.location.hash.includes(e)))&&setTimeout((()=>{window.dispatchEvent(new HashChangeEvent("hashchange"))}),1500),setTimeout((()=>{document.querySelector(".rivo-full-page-overlay")?.remove()}),2e3)}var R,$,S;c(g,(e=>e.common.shop.money_format||"{{amount_with_comma_separator}}$")),d(v,"ways_to_earn"),d(v,"referral_rewards"),d(v,"vip_tiers"),d(g,["common","customer"]),s(),s(),s(),s([]),d(v,"rewards"),s(),s({bottom:void 0}),s(),R={},window.addEventListener("click",(function(e){for(var t=e.target;t&&t.dataset&&!t.dataset.action;)t=t.parentNode;if(t&&t.dataset&&t.dataset.action&&R[t.dataset.action]){e.stopPropagation(),e.preventDefault();var o=t.dataset.data;return o=o?o.split(",").map((function(e){try{return JSON.parse(e)}catch(t){return e}})):[],o.unshift(e),R[t.dataset.action].apply(void 0,o),!1}}),!0),$={},S={on:function(e,t){if("object"!=typeof e)S._has_clb(e,t)||($[e]||($[e]=[]),$[e].push(t));else for(var o in e)S.on(o,e[o])},_has_clb:function(e,t){return!!$[e]&&-1!==$[e].indexOf(t)},once:function(e,t){if("object"!=typeof e)t.once=!0,S.on(e,t);else for(var o in e)S.once(o,e[o])},emit:function(e,t){t||(t=[]),$[e]&&$[e].forEach((function(o){o.apply(void 0,t),o.once&&S.remove(e,o)}))},remove:function(e,t){if("object"!=typeof e){if($[e]){var o=$[e].indexOf(t);-1!==o&&$[e].splice(o,1)}}else for(var n in e)S.remove(n,e[n])}};const O=["inherit","Arial","Arial Black","Comic Sans MS","Brush Script MT","Courier New","Georgia","Garamond","Helvetica","Impact","Lato","Lucida Grande","Microsoft Sans Serif","Palatino","Tahoma","Trebuchet MS","Times New Roman","Verdana"];function j(){return window.location.search.substr(1).split("&").reduce((function(e,t){var o=t.split("=");return e[o[0]]=decodeURIComponent(o[1]),e}),{})}const L=async e=>{for(;null===document.querySelector(e);)await new Promise((e=>requestAnimationFrame(e)));return document.querySelector(e)};function I(e){var t="/discount/"+e.code,o={method:"GET"};return new Promise((function(n,i){fetch(t,o).then((function(t){if(void 0===e.variant_ids)return n({});var o=e.variant_ids.split(",");if(0===o.length)return n({});if(1===o.length)return fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:o[0],quantity:1}]})}).then((function(e){return window.location="/cart",n({})}));var i=h.api_endpoint;return fetch(`${i}/products/${e.product_id}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return window.Rivo.sendMessageToWidget&&window.Rivo.sendMessageToWidget({msg_action:"app.redeem.product-options",msg_options:e}),n(e||{})}))})).catch((function(e){console.error(e),n({})}))}))}!function(){const e=window.Rivo.global_config.asset_urls;if(window.baMet&&(window.Rivo.visit_token=window.baMet.getVisitId(),window.Rivo.visitor_token=window.baMet.getVisitorId()),h.membership_tiers&&window.Rivo.common?.product?.tags&&-1!==window.Rivo.common.product.tags.indexOf("Rivo Membership"))return void(window.location=h.paid_membership_settings.landing_path||"/");if(h.account_widget_settings?.enabled&&h.account_widget_settings?.redirect_from_account_page&&/^\/account($|\/)/.test(window.location.pathname)&&"true"!=b("skip_rivo_redirect")){const e=b("checkout_url");return void(window.location.href=e?`/?rivo_post_sign_in_redirect_url=${encodeURIComponent(e)}#rivo`:"/#rivo")}h.account_widget_settings?.enabled&&h.account_widget_settings?.replace_account_links&&function(){const e=h.account_widget_settings.replace_legacy_app_links,t=()=>{let t='a[href*="/account"]:not([href*="/a/account"]):not([href*="/apps/account"]):not([href*="/community/account"]), a[href*="/customer_authentication/redirect"]';e&&(t+=', a[href*="#status"]'),document.querySelectorAll(t).forEach((e=>{"/account/logout"===e.getAttribute("href")||e.hasAttribute("data-rivo-accounts-ignore")||(e.href="#rivo")}))};t(),e&&setTimeout(t,1e3)}(),h.account_widget_settings?.enabled&&h.account_widget_settings?.replace_legacy_app_links&&function(){const e=window.location.hash;if(e.includes("status-confirmation")){const t=e.match(/status-confirmation:(\d+)(?:\D|$)/)?.[1];t&&(window.location.hash=`#rivo-order-details--${t}`)}}(),window.Rivo.preview_mode="undefined"==typeof Shopify;let t=localStorage.getItem("rivo_advocate_profile");t&&(window.Rivo.advocate_profile=JSON.parse(t));let o=localStorage.getItem("rivo_friend_profile");o&&(window.Rivo.friend_profile=JSON.parse(o));let n=localStorage.getItem("rivo_referral_data")||"{}";var i,r,a;function s(){let e=localStorage.getItem("rivo_account_profile")||"{}";e&&(window.Rivo.account_profile=JSON.parse(e),h.persisted_login_enabled&&window.Rivo.common.customer&&!window.Rivo.account_profile?.visitor_token&&(Object.assign(window.Rivo.account_profile,{customer_id:window.Rivo.common.customer.id,visitor_token:window.Rivo.visitor_token,last_updated_at:Date.now()}),localStorage.setItem("rivo_account_profile",JSON.stringify(window.Rivo.account_profile))));const t=h.auto_login?.auto_login_bypass_only_mode_enabled,o=localStorage.getItem("rivo_ap_invalidated_at")&&Date.now()-localStorage.getItem("rivo_ap_invalidated_at")<6e5;if((h.persisted_login_enabled||h?.auto_login?.enabled)&&!window.Rivo.common.customer){const e=j()[h.auto_login.email_identifier];if(Object.keys(window.Rivo.account_profile).length>0||e){const n=!window.Rivo.account_profile.visitor_token&&e||t?"/a-l":"/a-p",i=JSON.parse(localStorage.getItem("extensionStorage")||"{}"),r=Object.keys(i).find((e=>e.endsWith("rivo_thank_you_page_data"))),a=r?i[r]:{},s=baMet.getBrowserInfo(),c={screen_width:window.screen.width,screen_height:window.screen.height,browser:s.browser,os:s.os};if("/a-p"===n&&o)return;fetch(`${h.api_endpoint}${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ael_query_token:e,ael_persisted_token:window.Rivo.account_profile.ael_token,visitor_token:window.Rivo.visitor_token||("function"==typeof window.baMet?.getVisitorId?window.baMet.getVisitorId():void 0),visit_token:window.Rivo.visit_token||("function"==typeof window.baMet?.getVisitId?window.baMet.getVisitId():void 0),landing_page:window.location.href,thank_you_storage:a,browser_details:c})}).then((e=>e.json())).then((o=>{o.hint&&(localStorage.setItem("rivo_profile_hint",JSON.stringify(o.hint)),document.dispatchEvent(new CustomEvent("rivo:profile-hint-identified"))),o.url&&o.visitor_token==window.Rivo.visitor_token&&o.visit_token==window.Rivo.visit_token?t?window.location.href=o.url:fetch(o.url).then((()=>{k(o,!0),Object.assign(window.Rivo.account_profile,{ael_token:window.Rivo.account_profile?.ael_token||e,last_updated_at:Date.now(),visitor_token:window.Rivo.visitor_token}),localStorage.setItem("rivo_account_profile",JSON.stringify(window.Rivo.account_profile))})):"/a-p"===n&&localStorage.setItem("rivo_ap_invalidated_at",Date.now())})).catch(console.error)}}}let c;n&&(window.Rivo.referral_data=JSON.parse(n)),window.Rivo.global_config.loy_js_api_enabled&&x(e.loy.api_js),h.pages_config&&!window.rivo_page_loader_enabled&&x(e.loy.page_init_js),h.forms&&h.forms.length>0&&x(e.forms.init_js),window.Rivo.visit_token?s():(i=e.global.helper_js,!1,r=function(){setTimeout(s,200)},(a=document.createElement("script")).src=i,a.defer=false,a.onload=function(){r()},a.onerror=function(){r(new Error("Failed to load script "+i))},document.head.appendChild(a)),window.rivo_page_loader_enabled?h.account_widget_settings?.enabled?x(e.loy.profile_js,(function(){x(e.loy.lp_js)})):x(e.loy.lp_js):h.account_widget_settings?.enabled&&x(e.loy.profile_js),h.ping_enabled&&window.Rivo.common?.customer&&Rivo.visitor_token&&fetch(`${h.api_endpoint}/customers/loggedin/ping`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitor_token:window.Rivo.visitor_token||("function"==typeof window.baMet?.getVisitorId?window.baMet.getVisitorId():void 0),visit_token:window.Rivo.visit_token||("function"==typeof window.baMet?.getVisitId?window.baMet.getVisitId():void 0)})}).then((e=>e.json())).then((e=>{e.ping&&(fetch("/account/logout"),localStorage.removeItem("rivo_account_profile"))})),window.addEventListener("message",(function(e){if(e.origin===window.location.origin)switch(e.data.msg_action){case"widget.register":e.data.msg_options?.redirect_url?window.location.href=`${h.custom_account_register_path||"/account/register"}?checkout_url=${e.data.msg_options.redirect_url}`:window.location.href=`${h.custom_account_register_path||"/account/register"}`;break;case"widget.login":e.data.msg_options?.redirect_url?window.location.href=`${h.custom_account_login_path||"/account/login"}?checkout_url=${e.data.msg_options.redirect_url}`:window.location.href=`${h.custom_account_login_path||"/account/login"}`;break;case"widget.apply_discount_code":I(e.data.msg_options).then((function(e){if(!e.url)return;let t=document.querySelector(".rivo-visit-product.text-warning");t&&(t.style.display="",t.querySelector("a").href=e.url)}));break;case"widget.visit":window.location.href=e.data.msg_options.url;break;case"widget.popup":!function(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"right";new Promise((function(i,r){if("right"==n)var a="960";else a="0";var s=window.open(e,t||"_blank",o||"height=500,width=700,left="+a);return window.focus&&s.focus(),i({})}))}(e.data.msg_options.url,e.data.msg_options.windowName,e.data.msg_options.windowFeatures,h.floating_widget_settings.desktop_placement);break;case"widget.new_tab":window.open(e.data.msg_options.url,"_blank");break;case"widget.open":c(!0,e.data.msg_options.page);break;case"widget.close":c(!1);break;case"widget.referral_claimed":!function(e){e.email;let t=e.code;localStorage.setItem("ba_referral_claimed",t),localStorage.removeItem("ba_referral_customer_signup")}(e.data.msg_options);break;case"widget.referral_via_email":Object.assign(document.createElement("a"),{target:"_blank",href:`mailto:?subject=${e.data.msg_options.subject}&body=${e.data.msg_options.body}`}).click();break;case"widget.go_to_url":Object.assign(document.createElement("a"),{target:"_blank",href:e.data.msg_options.url}).click()}}));const l=()=>{const e=document.createElement("script"),t="https:"==document.location.protocol?"https://":"http://";e.src=`${t}${h.domain_name}/preview_loy.js`,e.type="text/javascript",document.head.appendChild(e)},d={"#ba-loyalty-home":"index","#ba-loyalty-rewards":"my_rewards","#ba-loyalty-ways-to-earn":"ways_to_earn","#ba-loyalty-redeem":"ways_to_redeem","#ba-referral-program":"referrals","#ba-referrals":"my_referrals"},p='\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">\n  ';window.addSellingPlanToCart=function(e,t){const o={id:e,selling_plan:t,quantity:1};fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>e.json())).then((e=>{window.location="/cart"})).catch((e=>console.error("Error:",e)))},window.Rivo.deepLinks=function(){let e=j(),t={},o=e.referral_code||e.xrc;return"loyalty_points_redeemed"===e.preset_type?(t.page="reward",t.reward_id=e.record_id):"loyalty_birthday"===e.preset_type?t.page="home":o?(t.referral_code=o,window.Rivo.advocate_profile?t.page="invalid_referral":function(e){const t=void 0!==e&&""!==e.trim(),o=null==localStorage.getItem("ba_referral_claimed");return t&&o}(o)?(t.page="referral_signup",e.rci&&(t.referral_campaign_id=e.rci)):window.Rivo.friend_profile&&localStorage.getItem("ba_referral_claimed")&&(t.reward_discount_code=localStorage.getItem("ba_referral_claimed"),t.page="friend_reward")):d[window.location.hash]?t.page=window.Rivo.common?.customer?d[window.location.hash]:d["#ba-loyalty-home"]:"email"==e.utm_medium&&"rivo"==e.utm_source&&(t.page="home"),e.advocate_rdc?(t.reward_discount_code=e.advocate_rdc,t.page="advocate_reward"):e.friend_rdc?(t.reward_discount_code=e.friend_rdc,t.page="friend_reward"):e.popup_panel&&(t.popup_panel=e.popup_panel),e.fpr_pid&&e.fpr_vids&&(t.free_product_reward={product_id:e.fpr_pid,variant_id:e.fpr_vids}),t}(),window.addEventListener("ontouchstart"in window||window.navigator.msPointerEnabled?"click":"mouseup",(function(e){if(0===e.button){const t=function(e,t){let o=e;for(;null!==o&&o.tagName!=="A".toUpperCase();)o=o.parentNode;return o}(e.target||e.srcElement);if(!t)return;const o=t.hash;if(!o||!d[o])return;return event.preventDefault(),t.setAttribute("onclick","return false;"),window.Rivo.deepLinks.page=d[o],void c(!0,d[o])}}));var u={gift:'<svg id="ba-loy-launcher-img" xmlns="http://www.w3.org/2000/svg" width="30" height="30" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="48px" height="48px"><path d="M 19 3 C 15.428062 3 12.5 5.9280619 12.5 9.5 C 12.5 10.78688 12.885764 11.987083 13.539062 13 L 8.5 13 C 7.12 13 6 14.12 6 15.5 L 6 21.5 C 6 22.88 7.12 24 8.5 24 L 22.5 24 L 22.5 13 L 19 13 C 17.049938 13 15.5 11.450062 15.5 9.5 C 15.5 7.5499381 17.049938 6 19 6 C 20.950062 6 22.5 7.5499381 22.5 9.5 L 22.5 13 L 25.5 13 L 25.5 9.5 C 25.5 7.5499381 27.049938 6 29 6 C 30.950062 6 32.5 7.5499381 32.5 9.5 C 32.5 11.450062 30.950062 13 29 13 L 25.5 13 L 25.5 24 L 39.5 24 C 40.88 24 42 22.88 42 21.5 L 42 15.5 C 42 14.12 40.88 13 39.5 13 L 34.460938 13 C 35.114236 11.987083 35.5 10.78688 35.5 9.5 C 35.5 5.9280619 32.571938 3 29 3 C 26.951606 3 25.194111 4.0224818 24 5.5175781 C 22.805889 4.0224818 21.048394 3 19 3 z M 8 27 L 8 37.5 C 8 41.08 10.92 44 14.5 44 L 22.5 44 L 22.5 27 L 8 27 z M 25.5 27 L 25.5 44 L 33.5 44 C 37.08 44 40 41.08 40 37.5 L 40 27 L 25.5 27 z"/></svg>',star:'<svg id="ba-loy-launcher-img" xmlns="http://www.w3.org/2000/svg" width="30" height="30" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="48px" height="48px"><path d="M 24.009766 5 A 1.50015 1.50015 0 0 0 22.658203 5.8300781 L 17.505859 16.134766 L 5.2714844 18.017578 A 1.50015 1.50015 0 0 0 4.4394531 20.560547 L 12.902344 29.023438 L 11.017578 41.271484 A 1.50015 1.50015 0 0 0 13.193359 42.830078 L 24 37.191406 L 34.806641 42.830078 A 1.50015 1.50015 0 0 0 36.982422 41.271484 L 35.097656 29.023438 L 43.560547 20.560547 A 1.50015 1.50015 0 0 0 42.728516 18.017578 L 30.494141 16.134766 L 25.341797 5.8300781 A 1.50015 1.50015 0 0 0 24.009766 5 z"/></svg>'};const _="data-ba-met-app='loy' data-ba-met-name='widget_loy_panel_click'";function f(e,t,o){var n=e[t+"_layout"]||e.layout,i=e[t+"_text"]||e.text,r=e[t+"_icon"]||e.icon,a="";return"icon_with_text"!=n&&"image_only"!=n||(a+='<div class="launcher-'+t+" launcher-icon "+n+' ba-met-handler" '+_+">"+(o?`<img src="${o}" style="width: 32px; height: 32px;"/>`:u[r])+"</div>"),n.includes("text")&&(a+='<div class="launcher-'+t+" launcher-text "+n+' ba-met-handler" '+_+">"+i+"</div>"),a}function m(){let e=`${h.api_endpoint}/customers/loggedin/status?verification_customer_id=${window.Rivo.common?.customer?.id}`;fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((function(e){return window.Rivo.loy_config.account_widget_settings.account_verification_enabled&&e.hasOwnProperty("account_enabled")&&!e.account_enabled?("account_verification",void fetch(`${window.Rivo.loy_config.api_endpoint}/customers/loggedin/logout`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({visitor_token:window.Rivo.visitor_token||("function"==typeof window.baMet?.getVisitorId?window.baMet.getVisitorId():void 0),visit_token:window.Rivo.visit_token||("function"==typeof window.baMet?.getVisitId?window.baMet.getVisitId():void 0),silent:!0,silent_reason:"account_verification"})}).then((e=>e.json())).then((e=>{fetch("/account/logout"),window.Rivo.common.customer=void 0,localStorage.removeItem("ba_loy_customer_id"),localStorage.removeItem("rivo_account_profile"),RivoProfileAlpine&&RivoProfileAlpine.store("rivo_profile_customer",!1)}))):!e.verified&&h.customer_id_verification_enabled?(fetch("/account/logout"),window.Rivo.common.customer=void 0,void localStorage.removeItem("ba_loy_customer_id")):(h.viewable=e.viewable,window.Rivo.common.customer.status_points_tally=e.points,window.Rivo.common.customer.status_credits_tally=e.credits,window.Rivo.common.customer.expected_completed_actions=e.expected_completed_actions,window.Rivo.common.customer.first_order_at=e.first_order_at,window.Rivo.common.customer.account_activated_at=e.account_activated_at,e.viewable&&h?.js_api_config?.emit_points_balances_on_load&&(window.RivoJS?window.parent.postMessage({msg_action:"event.points_update",msg_options:{points_tally:e.pretty_points_tally,credits_tally:e.pretty_credits_tally,entries_tally:e.pretty_entries_tally}}):document.addEventListener("rivo-js-loaded",(function(){window.parent.postMessage({msg_action:"event.points_update",msg_options:{points_tally:e.pretty_points_tally,credits_tally:e.pretty_credits_tally,entries_tally:e.pretty_entries_tally}})}))),e.viewable&&1==h?.account_embed_widget_settings?.enabled&&function(e,t){const o=window.Rivo.common?.customer,n=h.account_embed_widget_settings,i=n.target_page||"customers/account";if(window.Rivo.common.template!=i||!o)return;let r=document.createElement("style");r.id="loyalty-program-and-rewards",r.innerHTML=`#rivo-loyalty-program-and-rewards{margin-top: 30px;}\n\t\t\t.account-loyalty-wrapper{margin: 15px 0;}\n\t\t\t.account-loyalty-wrapper p{margin: 0 0 10px; text-transform: none; font-size: 15px; font-weight: 400;}\n\t\t\th2#loyalty-program-header{text-transform: none;}\n\t\t\tp#freeform-text{white-space: pre-wrap;}\n\t\t\tp#widget-click a{color: #006eff;}\n\t\t\t#see-more-on-widget{cursor:pointer}#see-more-on-widget:hover{text-decoration: underline;}\n\t\t\t${n.custom_css}`,document.head.appendChild(r);const a=h.translations,s=`<b>${function(e,t){var o=0,n="",i="";if(Number(e)===e&&e%1!=0){var r=Math.abs(e).toFixed(2).split(".");i=r[0].split("").reverse(),n="."+r[1]}else i=Math.abs(e).toString().split("").reverse();return i.forEach((function(e){3==o&&(n=","+n,o=0),n=e+n,o++})),e<0&&(n="- "+n),n}(e)}</b>`,c=`<b>${function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===e||null==e)return"";if("string"==typeof e&&0==e.length)return"";var n=w.global_config.base_money_format||w.common.shop.money_format,i=/\{\{\s*(\w+)\s*\}\}0?/;function r(e,t){return void 0===e?t:e}var a=e<0;function s(e,t,o,n,i){if(t=r(t,2),o=r(o,","),n=r(n,"."),isNaN(e)||null==e)return 0;var a=(e=Math.abs(e)).toString().split("."),s=a[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+o),c=a[1]||"";return i||c?s+n+(c=(c+"00").slice(0,t)):s}var c="";switch(n.match(i)[1]){case"amount":case"amount_no_decimals":c=s(e,t,",",".",o);break;case"amount_with_comma_separator":case"amount_no_decimals_with_comma_separator":default:c=s(e,t,".",",");break;case"amount_no_decimals_with_space_separator":c=s(e,t,"."," ");break;case"amount_with_apostrophe_separator":c=s(e,t,".","'")}return(a?"- ":"")+n.replace(i,c)}(t,2)}</b>`;let l=`<div id="rivo-loyalty-program-and-rewards">\n      <h2 id="loyalty-program-header">${a.general_loyalty_program_and_rewards||"Loyalty Program & Rewards"}</h2>\n\t    <div class="account-loyalty-wrapper">\n\t      <p id="points-balance">${a.general_you_have_points?a.general_you_have_points.replace("{{points}}",s).replace("{{credits}}",c):`You have ${s} points.`}</p>\n\t\t\t\t${a.shopify_account_embed_freeform_text?"<p id='freeform-text'>"+a.shopify_account_embed_freeform_text+"</p>":""}\n\t      <p id="widget-click"><a href="#" id="see-more-on-widget">${a.general_click_to_see_more||"View My Rewards Account"}</a></p>\n\t    </div>\n\t\t</div>`;const d=document.querySelector(`${n.custom_placement||"main .grid > div:first-child *:first-child, main div.customer, main div"}`);d&&d.insertAdjacentHTML(`${n.custom_insert_method||"beforeend"}`,l);const p=document.getElementById("see-more-on-widget");p&&p.addEventListener("click",(function(e){if(e.preventDefault(),n.custom_link){const e=`${window.top.location.origin}${n.custom_link}`;window.postMessage({msg_action:"widget.go_to_url",msg_options:{url:e}},"*")}else{let e=document.querySelector("#launcher-wrapper");e.classList.contains("up")||e.click()}}))}(e.points,e.credits),e.viewable&&window.Rivo.common.customer&&e.auto_applied_discount_code&&(window.Rivo.common.customer.auto_applied_discount_code=e.auto_applied_discount_code,document.dispatchEvent(new CustomEvent("rivo:auto-discount-code-identified")),(t=e.auto_applied_discount_code)&&function(e){let t=document.cookie.match(RegExp("(?:^|;\\s*)"+"discount_code".replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")+"=([^;]*)"));return t?t[1]:null}()!==t&&fetch(`/discount/${t}`)),void L("#ba-loy-container").then((t=>{e.viewable?t.style.display="block":t.remove()})));var t}))}let g=document.location.search.indexOf("ba-loy-preview=1")>-1,v=document.location.search.indexOf("hide-preview-popup=1")>-1;function y(e,t){if(!t)return"";let o,n="";return o="inherit"===t?`font-family: ${t} !important;`:`font-family: '${t}', sans-serif !important;`,"primary_font"==e?n=`<style type="text/css">h1,h2,h3,h4,h5,.header, .header-main.truncate, .head-title:not(.header-secondary), .panel-title, .content-title, .next-reward-title{${o}}</style>`:"secondary_font"==e&&(n=`<style type="text/css">p,button,label,.header-secondary, .loy-button, .loy-button-secondary, .loy-button-link-main, .ba-tooltip, .sign-in-text, .less-color.text-nowrap, .content-subtitle, .panel-desc, .section-table-piece-detail-items, .dob-fields, .account-login, .txt-info, .txt-warning, .section-top-bar, .txt-field{${o}}</style>`),O.includes(t)?n:`<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=${t.replace(" ","+")}"></link>${n}`}function R(){h.referral_campaigns&&h.referral_campaigns.forEach((function(e){$(e)}))}function $(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(o){let n=e.display_type,i=window.Rivo.deepLinks.referral_campaign_id;if("none"==n)return void o();if(i&&parseInt(i)!=e.id)return;let r=document.getElementById(`rivo-referral-campaign-${e.id}`);const a=h?.font_settings||"",s=window.Rivo.deepLinks.referral_code||window.Rivo.deepLinks.reward_discount_code||t||function(e){const t=JSON.parse(localStorage.getItem("rivo_recent_order"));if(!e.post_order_advocate_overlay_enabled||window.Rivo.advocate_profile||!t)return!1;const o=Date.now(),n=60*e.post_order_advocate_overlay_frequency*1e3,i=t.rivo_advocate_signup_overlay_last_shown;if(i){const e=parseInt(i,10);if(0==n||!isNaN(e)&&o-e<n)return!1}const r=JSON.parse(localStorage.getItem("rivo_order_timestamps")||"[]");return 0!==r.length&&o-Math.max(...r)>=60*e.post_order_advocate_overlay_delay*1e3&&(t.rivo_advocate_signup_overlay_last_shown=o,localStorage.setItem("rivo_recent_order",JSON.stringify(t)),!0)}(e);if(s&&(e.display_type="overlay",n="overlay",r?r.querySelector("iframe.rivo-referral.overlay")&&(r.querySelector("iframe.rivo-referral.overlay").style.display="contents"):(r=document.createElement("div"),r.id=`rivo-referral-campaign-${e.id}`,document.body.appendChild(r)),window.Rivo.deepLinks.overlay_mode=!0),!r)return void o();let c=document.createElement("style");c.id=`rivo-referral-styles-${e.id}`,c.innerHTML=`\n      #rivo-referral-campaign-${e.id} { width: 100%; height: 100%; display: contents;}\n      @keyframes fadeIn {\n        from {\n          opacity: 0;\n        }\n        to {\n          opacity: 1;\n        }\n      }\n      iframe.rivo-referral{\n        position: relative;\n        width: 100%;\n        height: ${e.design_settings.desktop_inline_height}px;\n        border: none;\n        animation: fadeIn 0.3s ease forwards;\n      }\n\n      @media (max-width: 680px){\n        iframe.rivo-referral{\n          height: ${e.design_settings.mobile_inline_height}px;\n        }\n      }\n\n      iframe.rivo-referral.overlay{\n        display: flex;\n        position: fixed;\n        z-index: 2147483644;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n        background-color: rgb(0,0,0);\n        background-color: rgba(0,0,0,0.4);\n        opacity: 1;\n        visibility: visible;\n      }`,document.head.appendChild(c);let l=window.Rivo?window.Rivo.common.shop:void 0,d=window.Rivo?window.Rivo.common.customer:void 0;r.innerHTML=`<iframe id="rivo-referral-container-${e.id}" class="rivo-referral ${n}" name="rivo-referral-panel" allowfullscreen="" src="about:blank" sandbox="allow-scripts allow-same-origin allow-popups"></iframe>`;const u=`\n      .background-image, .background-cover{\n        background-image: url(${e.background_image_url});\n      }\n      .content .header{\n        background-color: ${e.design_settings.header_background_color};\n        color: ${e.design_settings.header_font_color};\n        text-align: ${e.design_settings.header_text_align};\n      }\n      .content-title{\n        color: ${e.design_settings.title_font_color};\n        font-size: var(--title-font-size);\n        text-align: ${e.design_settings.title_text_align};\n      }\n      .content-subtitle{\n        color: ${e.design_settings.subtitle_font_color};\n        font-size: var(--subtitle-font-size);\n        text-align: ${e.design_settings.subtitle_text_align};\n      }\n      .button{\n        background-color: ${e.design_settings.button_background_color};\n        border-color: ${e.design_settings.button_border_color};\n        color: ${e.design_settings.button_font_color};\n        font-size: ${e.design_settings.button_font_size}px;\n      }\n      .button:hover{opacity: 0.9;}\n      .footer{\n        color: ${e.design_settings.footer_font_color};\n        font-size: ${e.design_settings.footer_font_size}px;\n        text-align: ${e.design_settings.footer_text_align};\n      }\n      .content .content-wrapper .section-footer{\n        color: ${e.design_settings.footer_font_color};\n        font-size: ${e.design_settings.footer_font_size}px;\n        text-align: ${e.design_settings.footer_text_align};\n      }\n      @media (max-width: 680px){\n        .mobile-image{\n          background-image: url('${e.background_image_url}');\n        }\n      }\n      `;let _=document.getElementById(`rivo-referral-container-${e.id}`);_.contentWindow.document.write(`\n        <html lang="en">\n          <head>\n            <title></title>\n            ${p}\n            <style type="text/css">\n              :root {\n                --primary-font: ${a.primary_font};\n                --secondary-font: ${a.secondary_font};\n                --primary-color: ${e.design_settings.primary_color};\n                --secondary-color: ${e.design_settings.primary_color};\n                --title-font-size: ${e.design_settings.title_font_size}px;\n                --subtitle-font-size: ${e.design_settings.subtitle_font_size}px;\n                --title-color: ${e.design_settings.title_font_color};\n                --subtitle-color: ${e.design_settings.subtitle_font_color};\n                --regular-font-size: 14px;\n                --small-font-size: ${e.design_settings.subtitle_font_size}px;\n                --error-color: red;\n                --font-color: #3b4351;\n              }\n            </style>\n            <link rel="stylesheet" href="${window.Rivo.global_config.asset_urls.loy.referrals_css}" defer>\n            <style type="text/css">${u}</style>\n            ${a?.primary_font?y("primary_font",a.primary_font):""}\n            ${a?.secondary_font?y("secondary_font",a.secondary_font):""}\n            <style type="text/css" id="custom-css">${e.custom_css}</style>\n            ${l?`<script>window.shop=${JSON.stringify(l)};<\/script>`:""}\n            ${d?`<script>window.customer=${JSON.stringify(d)};<\/script>`:""}\n            <script>window.campaign=${JSON.stringify(e)};<\/script>\n            <script src="${window.Rivo.global_config.asset_urls.loy.referrals_js}"><\/script>\n          </head>\n          <body>\n            <div class="spin-wrapper ajax-interceptor ajax-loader-out"></div>\n          </body>\n          <script>window._init();<\/script>\n        </html>\n      `),_.contentWindow.document.close(),o()}))}function S(){const e=h.points_program_enabled||h.referral_program_enabled||h.membership_program_enabled||h.account_widget_settings?.enabled;if(!g&&!e)return;if(!(document.getElementById("rivo-app-embed-init")||document.getElementsByTagName("head")[0].innerHTML.search("loy_"+window.Rivo.common.shop.id)>0))return;if(h.referral_program_enabled){document.addEventListener("click",(function(e){const t=e.target.closest(".open-rivo-advocate-campaign");if(t){const e=t.getAttribute("data-referral-campaign-id"),o=e?h.referral_campaigns.find((t=>t.id==e)):h.referral_campaigns[0];o&&$(o,!0)}}));var t=localStorage.getItem("ba_reopen_referrals_coupon_section");if(window.Rivo.common.customer&&t){var o=JSON.parse(t).referral_code;window.Rivo.deepLinks.page="referral_signup",window.Rivo.deepLinks.referral_code=o,function(e,t){if(window.history.pushState){var o=new URL(window.location.href);o.searchParams.set("referral_code",t),window.history.pushState({path:o.href},"",o.href)}}(0,o),localStorage.removeItem("ba_reopen_referrals_coupon_section"),localStorage.setItem("ba_referral_customer_signup","true")}}window.Rivo.deepLinks.referral_code&&"referral_signup"==window.Rivo.deepLinks.page?fetch(`${h.api_endpoint}/track_referral_visit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({referral_code:window.Rivo.deepLinks.referral_code,visitor_token:window.baMet.getVisitorToken(),referral_campaign_id:window.Rivo.deepLinks.referral_campaign_id})}).then((e=>e.json())).then((e=>{e.status&&(localStorage.setItem("rivo_referral_data",JSON.stringify(e.data)),window.Rivo.referral_data=e.data),R()})):R(),window.Rivo.common.customer?m():h?.floating_widget_settings?.enabled&&L("#ba-loy-container").then((e=>{e.style.display="block"})),function(){if(!h?.floating_widget_settings?.enabled)return;let e=document.createElement("style"),t="#ba-loy-container-body {overflow: hidden !important;}\niframe#ba-loy-frame{position: absolute !important;opacity: 0 !important;width: 1px !important;height: 1px !important;top: 0 !important;left: 0 !important;border: none !important;display: block !important;z-index: -1 !important;}\n.ba-loy-namespace .ba-loy-app {line-height: 1;}\n.ba-loy-namespace div,.ba-loy-namespace frame {display: block;}\n.ba-loy-namespace div,\n.ba-loy-namespace span,\n.ba-loy-namespace iframe {font-family: ba-loy-font, \"Helvetica Neue\", \"Apple Color Emoji\", Helvetica, Arial, sans-serif;font-size: 100%;font-style: normal;letter-spacing: normal;font-stretch: normal;font-variant: normal;font-weight: normal;text-align-last: initial;text-decoration: none;text-indent: 0px;text-shadow: none;text-transform: none;alignment-baseline: baseline;animation-play-state: running;backface-visibility: visible;background-color: transparent;background-image: none;baseline-shift: baseline;border: 0px none transparent;border-radius: 0px;bottom: auto;-webkit-box-decoration-break: slice;box-shadow: none;box-sizing: content-box;caption-side: top;clear: none;clip: auto;color: inherit;columns: auto auto;column-fill: balance;column-gap: normal;content: normal;counter-increment: none;counter-reset: none;cursor: auto;direction: ltr;display: inline;dominant-baseline: auto;empty-cells: show;float: none;height: auto;-webkit-hyphenate-character: auto;hyphens: manual;image-rendering: auto;left: auto;line-height: inherit;list-style: outside none disc;margin: 0px;max-height: none;max-width: none;min-height: 0px;min-width: 0px;opacity: 1;orphans: 2;outline-offset: 0px;overflow: visible;padding: 0px;page: auto;break-after: auto;break-before: auto;break-inside: auto;perspective: none;perspective-origin: 50% 50%;pointer-events: auto;position: static;quotes: none;resize: none;right: auto;size: auto;table-layout: auto;top: auto;transform: none;transform-origin: 50% 50% 0px;transform-style: flat;unicode-bidi: normal;vertical-align: baseline;white-space: normal;widows: 2;width: auto;word-break: normal;word-spacing: normal;overflow-wrap: normal;z-index: auto;text-align: start;-webkit-font-smoothing: antialiased;}\n@media (max-width: 500px) {\n\t.ba-loy-namespace .ba-loy-messenger-frame,\n\t#launcher-wrapper{right: 10px;}\n}\n.ba-loy-namespace .ba-loy-messenger-frame {z-index: 2147483650;position: fixed;bottom: 90px;right: 20px;width: 376px;min-height: 450px;max-height: 700px;box-shadow: rgba(0, 0, 0, 0.16) 0px 5px 40px;border-radius: 10px;overflow: hidden;opacity: 1;height: calc(100% - 120px);}\n.ba-loy-namespace .ba-loy-messenger-frame>iframe {width: 100%;height: 100%;position: absolute;}\n#ba-loy-container-body {overflow: hidden;}\n#launcher-wrapper {position: fixed;z-index: 99999999999;bottom: 20px;right: 20px;display: flex; height: 60px; align-items: center;justify-content: center;cursor: pointer;color:white;background: #0749d1;border-radius: 30px;min-width:60px;box-shadow: 0 1px 6px 0 rgb(0 0 0 / 5%), 0 2px 30px 0 rgb(0 0 0 / 15%);}\n#launcher-wrapper *{cursor: pointer;}\n#launcher-wrapper > *{padding: 16px 14px;transition:all 300ms cubic-bezier(0.87, 0, 0.13, 1);}\n#launcher-wrapper > .opened{position: relative;z-index:2;width:auto;display: inline-flex;align-items: center;max-width:250px;box-sizing:border-box;}\n#launcher-wrapper > .closed{position: absolute;top: 0px;left: 0px;bottom: 0px;width: 30px; opacity:0;z-index:1;}\n#launcher-wrapper .launcher-icon{width:32px;height:32px;}\n#launcher-wrapper .icon_with_text{font-size: 16px; margin-right: 12px;}\n#launcher-wrapper .launcher-text{display:inline-block;vertical-align:top;line-height:normal;margin-right: 10px;}\n#launcher-wrapper .launcher-close-icon{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cpath fill='%23fff' fill-rule='nonzero' d='M6.34317 7.75732L4.92896 9.17154L12 16.2426L19.0711 9.17157L17.6569 7.75735L12 13.4142L6.34317 7.75732Z'/%3E%3C/svg%3E%0A\");width: 26px;height: 26px;display: block;background-size: 26px;}\n#launcher-wrapper.up > .opened{opacity:0;max-width:60px;}\n#launcher-wrapper.up > .closed{opacity:1;}\nsvg#ba-loy-launcher-img{width:32px;height:32px;}\n#ba-loy-launcher-img > path {fill: #fff;}\n #launcher-wrapper .text_only.launcher-text{margin-right:0px;margin: 0px 5px;}"+h.widget_css+(h.custom_css||""),o=h?.font_settings?.primary_font||"";if(o.length>0){let e=document.createElement("link");e.rel="stylesheet",e.href=`https://fonts.googleapis.com/css?family=${o.replace(" ","+")}`,document.head.appendChild(e),t+=` .launcher-text{font-family: '${o}', sans-serif !important;}`}e.innerHTML=t,document.head.appendChild(e)}();const n=h?.floating_widget_settings?.hide_widget_permanently||"true"==h?.brand_theme_settings?.hide_widget_permanently,i=h?.referral_campaigns?.length>0&&window.Rivo.deepLinks.referral_code;if(h?.floating_widget_settings.enabled&&!n&&!i){var r=function(){let e=h.floating_widget_settings,t=`\n\t\t\t<div class="ba-loy-app">\n\t\t\t\t<div class="ba-loy-messenger-frame ba-loy-${e.container_shape}" id="loy-widget-wrapper" style="display:none;">\n\t\t\t\t\t<iframe id="ba-other-window-body" allowfullscreen="" src="about:blank" sandbox="allow-scripts allow-same-origin"></iframe>\n\t\t\t\t</div>\n\t\t\t\t<div id="launcher-wrapper" class="ba-loy-${e.launcher_shape}">\n\t\t\t\t\t<div class="opened ba-met-handler" ${_}>\n\t\t\t\t\t\t${f(e,"desktop",e.desktop_launcher_icon)}\n\t\t\t\t\t\t${f(e,"mobile",e.mobile_launcher_icon)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="closed">\n\t\t\t\t\t\t<div class="launcher-close-icon close-loy-button"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`,o=document.createElement("div");return o.id="ba-loy-container",o.className="ba-loy-namespace",o.innerHTML=t,o.style.display="none",o}(),a={container:r.querySelector("#loy-widget-wrapper"),iframe:r.querySelector("iframe"),button:r.querySelector("#launcher-wrapper")};document.body.appendChild(r),a.button.addEventListener("click",(function(){const e=document.getElementsByClassName("ba-met-handler");for(let t of e)E?t.removeAttribute("data-ba-met-name"):t.dataset.baMetName="widget_loy_panel_click";c(!E)})),c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;E=e,a.button.classList[E?"add":"remove"]("up"),a.container.style.display=E?"":"none",E&&function(e,t){if(A)e.contentWindow.postMessage({msg_action:"event.opened",msg_options:{page:t}},"*");else{A=!0;let t=window.Rivo?window.Rivo.common.shop:void 0,o=window.Rivo?window.Rivo.common.customer:void 0,n=window.Rivo?h.widget_css:void 0,i=h?.custom_css||"";const r=h?.font_settings||"";g&&function(){const e=b("visitor_header_title"),t=b("visitor_header_caption");e&&(h.translations.visitor_header_title=e),t&&(h.translations.visitor_header_caption=t)}();let a=!("Promise"in window||"fetch"in window);e.contentWindow.document.write(`\n\t\t\t\t<html lang="en">\n\t\t\t\t\t<head>\n\t\t\t\t\t\t<title></title>\n\t\t\t\t\t\t${a?'<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=Promise%2Cfetch"><\/script>':""}\n\t\t\t\t\t\t<link rel="stylesheet" href="${window.Rivo.global_config.asset_urls.loy.widget_css}">\n\t\t\t\t\t\t${t?`<script>window.shop=${JSON.stringify(t)};<\/script>`:""}\n\t\t\t\t\t\t${o?`<script>window.customer=${JSON.stringify(o)};<\/script>`:""}\n\t\t\t\t\t\t<script src="${window.Rivo.global_config.asset_urls.loy.widget_js}"><\/script>\n            <style type="text/css">${n}${g?function(){const e=b("primary_color")||"#20124d";return`#baLoySectionWrapper .ba-loy-bg-color {background: ${e} !important;}\n\t\t.header-main, .header-secondary, .points-expiry-desc{color: ${b("header_text_color")||"#fff"} !important;}\n\t\t#baLoySectionWrapper .section-panel-wrapper {box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 15px 0px, rgba(0, 0, 0, 0.1) 0px 1px 2px 0px, ${e} 0px 2px 0px 0px inset  !important;}\n\t\t#baLoySectionWrapper .loy-button-main{background: ${e} !important;}\n\t\t.main-default a.sign-in{color: ${e} !important;}\n\t\t#launcher-wrapper{background: ${e} !important;}`}():""}</style>\n            ${r?.primary_font?y("primary_font",r.primary_font):""}\n            ${r?.secondary_font?y("secondary_font",r.secondary_font):""}\n            ${i?`<style type="text/css">${i}</style>`:""}\n\t\t\t\t\t</head>\n\t\t\t\t\t<body>\n\t\t\t\t\t\t<div class="spin-wrapper ajax-interceptor ajax-loader-out"></div>\n\t\t\t\t\t</body>\n\t\t\t\t\t<script>window._init();<\/script>\n\t\t\t\t</html>\n\t\t\t\t`),e.contentWindow.Rivo=window.Rivo,window.Rivo.sendMessageToWidget=function(t){e.contentWindow.postMessage(t,"*")}}}(a.iframe,t)}}h.membership_tiers?.length>0&&(document.querySelectorAll('.rivo-membership-add-to-cart, a[href*="membership-add-to-cart"]').forEach((e=>{e.addEventListener("click",(function(e){e.target.innerHTML="...",e.preventDefault(),addSellingPlanToCart(window.Rivo.loy_config.membership_tiers[0].variant_id,window.Rivo.loy_config.membership_tiers[0].selling_plan_id)}))})),window.Rivo.common?.customer?.tags&&window.Rivo.common.customer.tags.includes("Rivo Subscriber")&&h.membership_tiers[0].static_discounts.forEach((function(e){I({code:e?.code})}))),window.Rivo.deepLinks.page&&"function"==typeof c&&setTimeout((function(){c(!0)}),100),g&&!v&&setTimeout(l,1e3)}document.location.search.indexOf("rivo-floating-widget-preview=1")>-1&&(window.Rivo.loy_config.floating_widget_settings.enabled=!0,window.Rivo.loy_config.points_program_enabled=!0),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",S):S();var E=!1,A=!1;!function(){if(!window.Rivo.global_config?.hide_console_ad)try{const e="\n- Increased repurchase rates\n- Increased LTV\n- Fully customizable\n\n\nHit us up at: https://www.rivo.io/developers\n\n",t="display:inline-block; font-size: 14px; padding: 5px; background: linear-gradient(to right, #141B32, #00D9CC); color:#FFFFFF; border-radius: 5px;";console.group("%cDeveloper friendly loyalty - powered by Rivo.",t),console.log(`%c ${e}`,"font-size: 13px;"),console.groupEnd()}catch(e){}}()}()}();
//# sourceMappingURL=https://d15d3imw3mjndz.cloudfront.net/assets/storefront/ba_loy_init.js-e96f06855f63d8ffb40a42d8dc84fe61f46d8a23eca47214e94f81cafc7c2d99.map
//!
;
