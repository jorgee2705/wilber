customElements.get("featured-collection")||customElements.define("featured-collection",class extends HTMLElement{constructor(){super()}connectedCallback(){if(this.selectors={sliderWrapper:".featured-collection__items",nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},this.classes={grid:"f-grid",swiper:"swiper",swiperWrapper:"swiper-wrapper"},this.sectionId=this.dataset.sectionId,this.section=this.closest(`.section-${this.sectionId}`),this.sliderWrapper=this.querySelector(this.selectors.sliderWrapper),this.enableSlider=this.dataset.enableSlider==="true",this.items=parseInt(this.dataset.items),this.tabletItems=parseInt(this.dataset.tabletItems),this.sliderInstance=!1,!this.enableSlider)return;const mql=window.matchMedia(FoxTheme.config.mediaQueryMobile);mql.onchange=this.init.bind(this),this.init()}init(){FoxTheme.config.mqlMobile?this.destroySlider():this.initSlider()}initSlider(){if(typeof this.sliderInstance=="object")return;const columnGap=window.getComputedStyle(this.sliderWrapper).getPropertyValue("--column-gap"),spaceBetween=parseFloat(columnGap.replace("rem",""))*10;this.sliderOptions={modules:[FoxTheme.Swiper.Navigation,FoxTheme.Swiper.Pagination],slidesPerView:this.tabletItems>3?3:parseInt(this.tabletItems),spaceBetween,navigation:{nextEl:this.section.querySelector(this.selectors.nextEl),prevEl:this.section.querySelector(this.selectors.prevEl)},pagination:!1,breakpoints:{1280:{slidesPerView:parseInt(this.items)}},loop:!0,threshold:2},this.classList.add(this.classes.swiper),this.sliderWrapper.classList.remove(this.classes.grid),this.sliderWrapper.classList.add(this.classes.swiperWrapper),this.sliderInstance=new window.FoxTheme.Carousel(this,this.sliderOptions),this.sliderInstance.init(),this.calcNavButtonsPosition(),this.calcHeadingColumnHeight(),this.fixQuickviewDuplicate()}destroySlider(){this.classList.remove(this.classes.swiper),this.sliderWrapper.classList.remove(this.classes.swiperWrapper),this.sliderWrapper.classList.add(this.classes.grid),typeof this.sliderInstance=="object"&&(this.sliderInstance.slider.destroy(),this.sliderInstance=!1)}calcNavButtonsPosition(){if(this.dataset.calcButtonPosition!=="true")return;const firstMedia=this.querySelector(".product-card__image-wrapper");firstMedia&&firstMedia.clientHeight>0&&this.section.style.setProperty("--swiper-navigation-top-offset",parseInt(firstMedia.clientHeight)/2+"px")}calcHeadingColumnHeight(){if(this.dataset.calcHeadingColumnHeight!=="true")return;const firstMedia=this.querySelector(".product-card__image-wrapper");firstMedia&&firstMedia.clientHeight>0&&this.section.style.setProperty("--heading-column-height",firstMedia.clientHeight+"px")}fixQuickviewDuplicate(){let modalIds=[];Array.from(this.querySelectorAll("quick-view-modal")).forEach(modal=>{const modalID=modal.getAttribute("id");modalIds.includes(modalID)?modal.remove():modalIds.push(modalID)})}});
//# sourceMappingURL=/cdn/shop/t/6/assets/featured-collection.js.map?v=43669514629017862671734371865
